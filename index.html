<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Random Dog Search</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/underscore-min.js"></script>

    <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
    <script>
      let url = "https://dog.ceo/api/breeds/image/random/";
      
      function populateImages(number, data){
	  $('#images').empty();
	  var images=data.message;
	  $('#images').append("<div class=row id=row"+0+">");
	  let row = 0;
	  for(i=0; i<number; i++){
	      $('#row'+row).append('<div class="image"><img src="'+images[i]+'"/></div>')
	      if (i%3 == 2){
		  row++;
		  $('#images').append("</div><div class=row id=row"+row+">");
	      }
	  }
	  $('#images').append("</div>");
      }
      
      function getImages() {
	  let number = $('#number').val();
	  let url1 = url+number;
	  $.ajax({
	      url: url1,
	      type: 'GET',
	      dataType: 'json',
	      success: function(response) {
		  populateImages(number, response);
	      },
	      error: function(){
		  alert("error");
	      }
	  });

      }
      
      $(document).ready(function(){
	  $('#generate').click(function(){
	      getImages();
	  });
      });

    </script>
    
  </head>
  <body>
    <div id='bar'>
      <h3 id='title'>Random Dog Search </h3>
      <p>Please enter the number of random images you'd like to generate</p>
      <div id='controls'>
	<label for="number">Number of Images:</label>
	<input type="number" id="number" name="number">
	<input type="button" value="Generate" id='generate'>
    </div>
    </div
    <hr>
    
    <div id='images'></div>
  </body>
</html>
